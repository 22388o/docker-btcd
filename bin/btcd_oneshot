#!/bin/bash

set -e

# Generate btcd.conf
btcd_init

# Define default parameters.
PARAMS="--rpccert=/rpc/rpc.cert --rpckey=/rpc/rpc.key"

# Add user parameters to command.
args=("$@")
PARAMS="$PARAMS ${args[@]}"

# Print command and start bitcoin node.
echo "Command: btcd $PARAMS"
exec btcd $PARAMS
